<form class='animate pane editor dark fill-dark col6 pin-right z10' id='layers-<%=obj.id%>'>
  <nav class='pin-top pad1y pad2x keyline-bottom'>
    <h3>
      <%= obj.id %>
      <a href='#' id='updatename-<%=obj.id%>' class='micro block js-updatename'>Rename</a>
    </h3>
    <input type='hidden' name='id' value='<%=obj.id%>' />
    <div class='pin-right pad1'>
      <span class='inline rounded-toggle strong'>
        <a href='#editor-conf' class='js-tab mode-conf active'>Configure</a>
        <a href='#editor-fields' class='js-tab mode-fields'>Fields</a>
      </span>
      <a href='#' class='js-update button short quiet icon check'>Done</a>
    </div>
  </nav>

  <div class='conf col12 pin-right top1 space-top2 scroll-styled'>
    <fieldset>
      <section class='pad2x pad1y keyline-bottom'>
        <label>Description</label>
        <input class='short stretch' type='text' name='description' value='<%= _(obj.description).escape() %>' />
      </section>
      <section class='pad2x pad1y keyline-bottom'>
        <label>Shapefile</label>
        <div class='input-pill clearfix'>
          <input type='hidden' name='Datasource-type' value='shape' />
          <input class='col12 short filepath' type='text' name='Datasource-file' value='<%= obj.Datasource.file %>'/>
        </div>
      </section>
      <section class='pad2x pad1y keyline-bottom'>
        <label class='col3'>Projection</label>
        <input class='js-metadata-projection short stretch' name='srs' type='text' value='<%= obj.srs %>' readonly />
      </section>
      <section class='clearfix pad2x pad1y keyline-bottom'>
        <label class='pad0y col3 inline'>Buffer size</label>
        <% if (obj.properties['buffer-size'] > 64) { %>
        <input type='text' class='short' size='8' name='properties-buffer-size' value='<%= obj.properties['buffer-size'] %>' pattern='[\d+]+' />
        <% } else { %>
        <input id='<%=obj.id%>-buffer-size' name='properties-buffer-size' type='range' value='<%= obj.properties['buffer-size'] %>' min='0' max='64' step='2' onchange='rangeHandler(this);'/>
        <span class='small quiet code inline range space-top0' id='<%=obj.id%>-buffer-size-val'><%= obj.properties['buffer-size'] %></span>
        <% } %>
      </section>
    </fieldset>
  </div>

  <div class='fields col12 pin-right top1 space-top2 scroll-styled'><%= this.layerfields(obj.fields) %></div>
</form>
